group 'com.nt'
version '1.0-SNAPSHOT'

apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
//    将frame模块打入应用模块jar内，引用兄弟模块
    compile(project(':frame'))
    
}
//jar包相关操作需要定义在jar的配置项当中
jar {
    //主清单属性：manifest是打出的jar包的配置文件，会被放在jar包根目录的META-INF里面
    manifest {
        attributes "Main-Class": "com.nt.Application"
    }
    //自动打入依赖包，递归把所有依赖的jar包打入目标jar中
    from {
        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
}

tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}